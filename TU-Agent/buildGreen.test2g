use TUAgent as mas.
use agentKnowledge as knowledge.
use agentGoals as goals.
use buildGreen as module.
use tygron as actionspec.

test buildGreen with
	%check if there is a goal for green.
	pre { goal(indicatorGoal('Parken en groen', _)) }
	in {
		%these actions should never be called within the green module
		never done(building_plan_demolish(_)).
		never done(map_buy_land(_, _)).
		never done(map_sell_land(_, _, _)).
		never done(building_plan_upgrade(_, _)).
		
		%If there is land available, something is build on it
		bel(callIDAreaBuild(CallID), relevant_areas(CallID,[[MultiPolygon, Area]|Tail])) 
			leadsto done(building_plan_construction(_)).
		%If there is no land available, a goal to create land is adopted.		
		not(bel(callIDAreaBuild(CallID), relevant_areas(CallID, MPList), not(empty(MPList))))
			leadsto goal(createLandToBuild).	
		
	}
	%TODO: find a way to create an OR in the post condition, below is not working
	%not(bel(availableLandPolygon(MP))) ; goal(createLandToBuild) 
	post { true }

	tygronagent {
		do buildGreen.
	}