use TUAgent as mas.
use agentKnowledge as knowledge.
use buyLand as module.
use tygron as actionspec.

timeout = 30.

% This test will test the buyland module.
test buyLand with
	% We should never enter this module if we have no goal to create more land for building.
	pre { goal(buyland) }
	in {
		% Failures in action selection.
		never done(building_plan_demolish(_)).
		never done(building_plan_upgrade(_, _)).
		never done(map_sell_land(_, _, _)).
		never done(popup_answer(_,_)).
		never done(popup_answer_with_date(_,_,_)).
		never done(get_relevant_areas(_,_,_)).
		never done(building_plan_construction(_,_,_)).
		bel(callIDAreaBuy(CallID), relevant_areas(CallID, RelevantAreas), member([MultiPolygon, Area], RelevantAreas))
			leadsto done(map_buy_land(MultiPolygon, _)).
	}
	post { landBought(MultiPolygon) }

	tygronagent {
		do buyLand.
	}