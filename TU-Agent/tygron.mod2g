use agentKnowledge as knowledge.
use tygron as actionspec.
use demolish as module.
use buildConstruction as module.
use buyLand as module.
use upgrade as module.
use buildGreen as module.


exit=nogoals.
order=linear.

module tygron {
	
	%TODO: parken en groen

	%TODO budget?
	
	%TODO check for requestgoals and handle these first so other stakeholders can move on without waiting on our bot, prevents a stalemate%
	
	%if the buildConstruction module adopted the goal to create land we should enter the demolish module
	%TODO: We could also buy land to create buildable land
	if goal(createLandToBuild)
		then demolish.
	
	%If we have the goal to build green constructions, we should enter the buildGreen module
	if goal(indicatorGoal('Parken en groen', _)), bel(greenspace(_,0))
		then buildGreen.
	
	%If we have the goal to build high buildings, we should enter the build module
	if goal(indicatorGoal('Bouwen hoge gebouwen', _))
		then buildConstruction.
	
	%If the goal to build high buildings is met but we still have the demolish goal, we should enter the demolish module
	if goal(indicatorGoal('Slopen oude gebouwen', _))
		then demolish.
		
	%Call the upgrade module if there are any remaining upgrades
	if bel(upgrades(_), not(upgrades([])))
		then upgrade.

}