use agentKnowledge as knowledge.
use tygron as actionspec.
use demolish as module.
use buildConstruction as module.
use buyLand as module.
use answerToRequest as module.
use buildGreen as module.


exit=nogoals.
order=linear.

module tygron {
	
	%TODO budget?
	
	%TODO check for requestgoals and handle these first so other stakeholders can move on without waiting on our bot, prevents a stalemate%
	
	
		% Call the module to answer a request by another stakeholder
	if a-goal(answer(RequestID))
		then answerToRequest.
	
	if not(goal(indicatorgoal('Bouwen hoge gebouwen', _))), bel(availableLandPolygon(_))
		then buildGreen.
	
	%if the buildConstruction module adopted the goal to create land we should enter the demolish module
	%TODO: We could also buy land to create buildable land
	if goal(createLandToBuild)
		then demolish.
	
	%If we have the goal to build high buildings, we should enter the build module
	if goal(indicatorgoal('Bouwen hoge gebouwen', _))
		then buildConstruction.
	
	%If the goal to build high buildings is met but we still have the demolish goal, we should enter the demolish module
	if goal(indicatorgoal('Slopen oud gebouwen', _))
		then demolish.
		
	%TODO: parken en groen
}