use agentKnowledge as knowledge.
use tygron as actionspec.

order=linearall.

module sellLandHandler {
	
	%forall sellLand that we have proposed to every stakeholder, lower the price and start over
	forall bel(landToSell(MultiPolygon, Price, Stakeholders), length(Stakeholders)=5)
		do delete(landToSell(MultiPolygon, Price, Stakeholders)) + insert(landToSell(MultiPolygon, Price/2, [3])).
	
	%forall the land we have to sell, make a proposal to a stakeholder that we havn't proposed it yet
	if bel(allStakeholders(AllStakeholders), (member(StakeholderID, AllStakeholders)), landToSell(MultiPolygon, Price, Stakeholders)), not(bel(member(StakeholderID, Stakeholders)))
		then map_sell_land(StakeholderID, MultiPolygon, Price) + delete(landToSell(MultiPolygon, Price, Stakeholders)) + insert(landToSell(MultiPolygon, Price, [StakeholderID|Stakeholders])).
	
}